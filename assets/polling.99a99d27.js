import{r as bi,b as Ri,u as Ti}from"./immutable.29c226e9.js";import{c as Ei,e as Ni}from"./index.9ef4a0e2.js";import{r as zi}from"./___vite-browser-external_commonjs-proxy.3895a5c7.js";const{Transform:qi}=bi.exports;var Ii=a=>class Bi extends qi{constructor(m,d,v,l,b){super(b),this._rate=m,this._capacity=d,this._delimitedSuffix=v,this._hashBitLength=l,this._options=b,this._state=new a,this._state.initialize(m,d),this._finalized=!1}_transform(m,d,v){let l=null;try{this.update(m,d)}catch(b){l=b}v(l)}_flush(m){let d=null;try{this.push(this.digest())}catch(v){d=v}m(d)}update(m,d){if(!Buffer.isBuffer(m)&&typeof m!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(m)||(m=Buffer.from(m,d)),this._state.absorb(m),this}digest(m){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let d=this._state.squeeze(this._hashBitLength/8);return m!==void 0&&(d=d.toString(m)),this._resetState(),d}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const m=new Bi(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(m._state),m._finalized=this._finalized,m}};const{Transform:Ci}=bi.exports;var Fi=a=>class Si extends Ci{constructor(m,d,v,l){super(l),this._rate=m,this._capacity=d,this._delimitedSuffix=v,this._options=l,this._state=new a,this._state.initialize(m,d),this._finalized=!1}_transform(m,d,v){let l=null;try{this.update(m,d)}catch(b){l=b}v(l)}_flush(){}_read(m){this.push(this.squeeze(m))}update(m,d){if(!Buffer.isBuffer(m)&&typeof m!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(m)||(m=Buffer.from(m,d)),this._state.absorb(m),this}squeeze(m,d){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let v=this._state.squeeze(m);return d!==void 0&&(v=v.toString(d)),v}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const m=new Si(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(m._state),m._finalized=this._finalized,m}};const Zi=Ii,Pi=Fi;var Hi=function(a){const p=Zi(a),m=Pi(a);return function(d,v){switch(typeof d=="string"?d.toLowerCase():d){case"keccak224":return new p(1152,448,null,224,v);case"keccak256":return new p(1088,512,null,256,v);case"keccak384":return new p(832,768,null,384,v);case"keccak512":return new p(576,1024,null,512,v);case"sha3-224":return new p(1152,448,6,224,v);case"sha3-256":return new p(1088,512,6,256,v);case"sha3-384":return new p(832,768,6,384,v);case"sha3-512":return new p(576,1024,6,512,v);case"shake128":return new m(1344,256,31,v);case"shake256":return new m(1088,512,31,v);default:throw new Error("Invald algorithm: "+d)}}},Li={};const Mi=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Li.p1600=function(a){for(let p=0;p<24;++p){const m=a[0]^a[10]^a[20]^a[30]^a[40],d=a[1]^a[11]^a[21]^a[31]^a[41],v=a[2]^a[12]^a[22]^a[32]^a[42],l=a[3]^a[13]^a[23]^a[33]^a[43],b=a[4]^a[14]^a[24]^a[34]^a[44],ct=a[5]^a[15]^a[25]^a[35]^a[45],lt=a[6]^a[16]^a[26]^a[36]^a[46],pt=a[7]^a[17]^a[27]^a[37]^a[47],Nt=a[8]^a[18]^a[28]^a[38]^a[48],vt=a[9]^a[19]^a[29]^a[39]^a[49];let x=Nt^(v<<1|l>>>31),k=vt^(l<<1|v>>>31);const ai=a[0]^x,li=a[1]^k,hi=a[10]^x,Qt=a[11]^k,Jt=a[20]^x,Vt=a[21]^k,Xt=a[30]^x,zt=a[31]^k,dt=a[40]^x,gt=a[41]^k;x=m^(b<<1|ct>>>31),k=d^(ct<<1|b>>>31);const Yt=a[2]^x,jt=a[3]^k,qt=a[12]^x,L=a[13]^k,mt=a[22]^x,f=a[23]^k,t=a[32]^x,e=a[33]^k,r=a[42]^x,s=a[43]^k;x=v^(lt<<1|pt>>>31),k=l^(pt<<1|lt>>>31);const h=a[4]^x,u=a[5]^k,c=a[14]^x,n=a[15]^k,i=a[24]^x,o=a[25]^k,M=a[34]^x,g=a[35]^k,y=a[44]^x,ut=a[45]^k;x=b^(Nt<<1|vt>>>31),k=ct^(vt<<1|Nt>>>31);const B=a[6]^x,S=a[7]^k,ti=a[16]^x,Y=a[17]^k,j=a[26]^x,ii=a[27]^k,tt=a[36]^x,it=a[37]^k,ei=a[46]^x,et=a[47]^k;x=lt^(m<<1|d>>>31),k=pt^(d<<1|m>>>31);const rt=a[8]^x,ri=a[9]^k,nt=a[18]^x,st=a[19]^k,ni=a[28]^x,ot=a[29]^k,ht=a[38]^x,si=a[39]^k,ft=a[48]^x,at=a[49]^k,It=ai,A=li,R=Qt<<4|hi>>>28,Ct=hi<<4|Qt>>>28,T=Jt<<3|Vt>>>29,E=Vt<<3|Jt>>>29,Ft=zt<<9|Xt>>>23,N=Xt<<9|zt>>>23,z=dt<<18|gt>>>14,Zt=gt<<18|dt>>>14,q=Yt<<1|jt>>>31,I=jt<<1|Yt>>>31,Pt=L<<12|qt>>>20,C=qt<<12|L>>>20,F=mt<<10|f>>>22,Ht=f<<10|mt>>>22,Z=e<<13|t>>>19,P=t<<13|e>>>19,Ot=r<<2|s>>>30,H=s<<2|r>>>30,O=u<<30|h>>>2,Dt=h<<30|u>>>2,D=c<<6|n>>>26,U=n<<6|c>>>26,Ut=o<<11|i>>>21,$=i<<11|o>>>21,K=M<<15|g>>>17,$t=g<<15|M>>>17,W=ut<<29|y>>>3,G=y<<29|ut>>>3,Kt=B<<28|S>>>4,Q=S<<28|B>>>4,J=Y<<23|ti>>>9,Wt=ti<<23|Y>>>9,V=j<<25|ii>>>7,X=ii<<25|j>>>7,Mt=tt<<21|it>>>11,yt=it<<21|tt>>>11,wt=et<<24|ei>>>8,_t=ei<<24|et>>>8,xt=rt<<27|ri>>>5,kt=ri<<27|rt>>>5,bt=nt<<20|st>>>12,Bt=st<<20|nt>>>12,St=ot<<7|ni>>>25,Lt=ni<<7|ot>>>25,At=ht<<8|si>>>24,Rt=si<<8|ht>>>24,Tt=ft<<14|at>>>18,Et=at<<14|ft>>>18;a[0]=It^~Pt&Ut,a[1]=A^~C&$,a[10]=Kt^~bt&T,a[11]=Q^~Bt&E,a[20]=q^~D&V,a[21]=I^~U&X,a[30]=xt^~R&F,a[31]=kt^~Ct&Ht,a[40]=O^~J&St,a[41]=Dt^~Wt&Lt,a[2]=Pt^~Ut&Mt,a[3]=C^~$&yt,a[12]=bt^~T&Z,a[13]=Bt^~E&P,a[22]=D^~V&At,a[23]=U^~X&Rt,a[32]=R^~F&K,a[33]=Ct^~Ht&$t,a[42]=J^~St&Ft,a[43]=Wt^~Lt&N,a[4]=Ut^~Mt&Tt,a[5]=$^~yt&Et,a[14]=T^~Z&W,a[15]=E^~P&G,a[24]=V^~At&z,a[25]=X^~Rt&Zt,a[34]=F^~K&wt,a[35]=Ht^~$t&_t,a[44]=St^~Ft&Ot,a[45]=Lt^~N&H,a[6]=Mt^~Tt&It,a[7]=yt^~Et&A,a[16]=Z^~W&Kt,a[17]=P^~G&Q,a[26]=At^~z&q,a[27]=Rt^~Zt&I,a[36]=K^~wt&xt,a[37]=$t^~_t&kt,a[46]=Ft^~Ot&O,a[47]=N^~H&Dt,a[8]=Tt^~It&Pt,a[9]=Et^~A&C,a[18]=W^~Kt&bt,a[19]=G^~Q&Bt,a[28]=z^~q&D,a[29]=Zt^~I&U,a[38]=wt^~xt&R,a[39]=_t^~kt&Ct,a[48]=Ot^~O&J,a[49]=H^~Dt&Wt,a[0]^=Mi[p*2],a[1]^=Mi[p*2+1]}};const fi=Li;function Gt(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Gt.prototype.initialize=function(a,p){for(let m=0;m<50;++m)this.state[m]=0;this.blockSize=a/8,this.count=0,this.squeezing=!1};Gt.prototype.absorb=function(a){for(let p=0;p<a.length;++p)this.state[~~(this.count/4)]^=a[p]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(fi.p1600(this.state),this.count=0)};Gt.prototype.absorbLastFewBits=function(a){this.state[~~(this.count/4)]^=a<<8*(this.count%4),(a&128)!==0&&this.count===this.blockSize-1&&fi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),fi.p1600(this.state),this.count=0,this.squeezing=!0};Gt.prototype.squeeze=function(a){this.squeezing||this.absorbLastFewBits(1);const p=Buffer.alloc(a);for(let m=0;m<a;++m)p[m]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(fi.p1600(this.state),this.count=0);return p};Gt.prototype.copy=function(a){for(let p=0;p<50;++p)a.state[p]=this.state[p];a.blockSize=this.blockSize,a.count=this.count,a.squeezing=this.squeezing};var Oi=Gt,ue=Hi(Oi),Di={exports:{}};(function(a){(function(p,m){function d(f,t){if(!f)throw new Error(t||"Assertion failed")}function v(f,t){f.super_=t;var e=function(){};e.prototype=t.prototype,f.prototype=new e,f.prototype.constructor=f}function l(f,t,e){if(l.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((t==="le"||t==="be")&&(e=t,t=10),this._init(f||0,t||10,e||"be"))}typeof p=="object"?p.exports=l:m.BN=l,l.BN=l,l.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=zi.Buffer}catch{}l.isBN=function(t){return t instanceof l?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===l.wordSize&&Array.isArray(t.words)},l.max=function(t,e){return t.cmp(e)>0?t:e},l.min=function(t,e){return t.cmp(e)<0?t:e},l.prototype._init=function(t,e,r){if(typeof t=="number")return this._initNumber(t,e,r);if(typeof t=="object")return this._initArray(t,e,r);e==="hex"&&(e=16),d(e===(e|0)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&(s++,this.negative=1),s<t.length&&(e===16?this._parseHex(t,s,r):(this._parseBase(t,e,s),r==="le"&&this._initArray(this.toArray(),e,r)))},l.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(d(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),r==="le"&&this._initArray(this.toArray(),e,r)},l.prototype._initArray=function(t,e,r){if(d(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var h,u,c=0;if(r==="be")for(s=t.length-1,h=0;s>=0;s-=3)u=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[h]|=u<<c&67108863,this.words[h+1]=u>>>26-c&67108863,c+=24,c>=26&&(c-=26,h++);else if(r==="le")for(s=0,h=0;s<t.length;s+=3)u=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[h]|=u<<c&67108863,this.words[h+1]=u>>>26-c&67108863,c+=24,c>=26&&(c-=26,h++);return this._strip()};function ct(f,t){var e=f.charCodeAt(t);if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;d(!1,"Invalid character in "+f)}function lt(f,t,e){var r=ct(f,e);return e-1>=t&&(r|=ct(f,e-1)<<4),r}l.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var h=0,u=0,c;if(r==="be")for(s=t.length-1;s>=e;s-=2)c=lt(t,e,s)<<h,this.words[u]|=c&67108863,h>=18?(h-=18,u+=1,this.words[u]|=c>>>26):h+=8;else{var n=t.length-e;for(s=n%2===0?e+1:e;s<t.length;s+=2)c=lt(t,e,s)<<h,this.words[u]|=c&67108863,h>=18?(h-=18,u+=1,this.words[u]|=c>>>26):h+=8}this._strip()};function pt(f,t,e,r){for(var s=0,h=0,u=Math.min(f.length,e),c=t;c<u;c++){var n=f.charCodeAt(c)-48;s*=r,n>=49?h=n-49+10:n>=17?h=n-17+10:h=n,d(n>=0&&h<r,"Invalid character"),s+=h}return s}l.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var s=0,h=1;h<=67108863;h*=e)s++;s--,h=h/e|0;for(var u=t.length-r,c=u%s,n=Math.min(u,u-c)+r,i=0,o=r;o<n;o+=s)i=pt(t,o,o+s,e),this.imuln(h),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(c!==0){var M=1;for(i=pt(t,o,t.length,e),o=0;o<c;o++)M*=e;this.imuln(M),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}this._strip()},l.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red};function Nt(f,t){f.words=t.words,f.length=t.length,f.negative=t.negative,f.red=t.red}if(l.prototype._move=function(t){Nt(t,this)},l.prototype.clone=function(){var t=new l(null);return this.copy(t),t},l.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=vt}catch{l.prototype.inspect=vt}else l.prototype.inspect=vt;function vt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ai=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(t,e){t=t||10,e=e|0||1;var r;if(t===16||t==="hex"){r="";for(var s=0,h=0,u=0;u<this.length;u++){var c=this.words[u],n=((c<<s|h)&16777215).toString(16);h=c>>>24-s&16777215,s+=2,s>=26&&(s-=26,u--),h!==0||u!==this.length-1?r=x[6-n.length]+n+r:r=n+r}for(h!==0&&(r=h.toString(16)+r);r.length%e!==0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}if(t===(t|0)&&t>=2&&t<=36){var i=k[t],o=ai[t];r="";var M=this.clone();for(M.negative=0;!M.isZero();){var g=M.modrn(o).toString(t);M=M.idivn(o),M.isZero()?r=g+r:r=x[i-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}d(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},l.prototype.toJSON=function(){return this.toString(16,2)},b&&(l.prototype.toBuffer=function(t,e){return this.toArrayLike(b,t,e)}),l.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};var li=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)};l.prototype.toArrayLike=function(t,e,r){this._strip();var s=this.byteLength(),h=r||Math.max(1,s);d(s<=h,"byte array longer than desired length"),d(h>0,"Requested array length <= 0");var u=li(t,h),c=e==="le"?"LE":"BE";return this["_toArrayLike"+c](u,s),u},l.prototype._toArrayLikeLE=function(t,e){for(var r=0,s=0,h=0,u=0;h<this.length;h++){var c=this.words[h]<<u|s;t[r++]=c&255,r<t.length&&(t[r++]=c>>8&255),r<t.length&&(t[r++]=c>>16&255),u===6?(r<t.length&&(t[r++]=c>>24&255),s=0,u=0):(s=c>>>24,u+=2)}if(r<t.length)for(t[r++]=s;r<t.length;)t[r++]=0},l.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,s=0,h=0,u=0;h<this.length;h++){var c=this.words[h]<<u|s;t[r--]=c&255,r>=0&&(t[r--]=c>>8&255),r>=0&&(t[r--]=c>>16&255),u===6?(r>=0&&(t[r--]=c>>24&255),s=0,u=0):(s=c>>>24,u+=2)}if(r>=0)for(t[r--]=s;r>=0;)t[r--]=0},Math.clz32?l.prototype._countBits=function(t){return 32-Math.clz32(t)}:l.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},l.prototype._zeroBits=function(t){if(t===0)return 26;var e=t,r=0;return(e&8191)===0&&(r+=13,e>>>=13),(e&127)===0&&(r+=7,e>>>=7),(e&15)===0&&(r+=4,e>>>=4),(e&3)===0&&(r+=2,e>>>=2),(e&1)===0&&r++,r},l.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e};function hi(f){for(var t=new Array(f.bitLength()),e=0;e<t.length;e++){var r=e/26|0,s=e%26;t[e]=f.words[r]>>>s&1}return t}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,r!==26)break}return t},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},l.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},l.prototype.ior=function(t){return d((this.negative|t.negative)===0),this.iuor(t)},l.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},l.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},l.prototype.iuand=function(t){var e;this.length>t.length?e=t:e=this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},l.prototype.iand=function(t){return d((this.negative|t.negative)===0),this.iuand(t)},l.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},l.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},l.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var s=0;s<r.length;s++)this.words[s]=e.words[s]^r.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this._strip()},l.prototype.ixor=function(t){return d((this.negative|t.negative)===0),this.iuxor(t)},l.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},l.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},l.prototype.inotn=function(t){d(typeof t=="number"&&t>=0);var e=Math.ceil(t/26)|0,r=t%26;this._expand(e),r>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return r>0&&(this.words[s]=~this.words[s]&67108863>>26-r),this._strip()},l.prototype.notn=function(t){return this.clone().inotn(t)},l.prototype.setn=function(t,e){d(typeof t=="number"&&t>=0);var r=t/26|0,s=t%26;return this._expand(r+1),e?this.words[r]=this.words[r]|1<<s:this.words[r]=this.words[r]&~(1<<s),this._strip()},l.prototype.iadd=function(t){var e;if(this.negative!==0&&t.negative===0)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var r,s;this.length>t.length?(r=this,s=t):(r=t,s=this);for(var h=0,u=0;u<s.length;u++)e=(r.words[u]|0)+(s.words[u]|0)+h,this.words[u]=e&67108863,h=e>>>26;for(;h!==0&&u<r.length;u++)e=(r.words[u]|0)+h,this.words[u]=e&67108863,h=e>>>26;if(this.length=r.length,h!==0)this.words[this.length]=h,this.length++;else if(r!==this)for(;u<r.length;u++)this.words[u]=r.words[u];return this},l.prototype.add=function(t){var e;return t.negative!==0&&this.negative===0?(t.negative=0,e=this.sub(t),t.negative^=1,e):t.negative===0&&this.negative!==0?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},l.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(r===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,h;r>0?(s=this,h=t):(s=t,h=this);for(var u=0,c=0;c<h.length;c++)e=(s.words[c]|0)-(h.words[c]|0)+u,u=e>>26,this.words[c]=e&67108863;for(;u!==0&&c<s.length;c++)e=(s.words[c]|0)+u,u=e>>26,this.words[c]=e&67108863;if(u===0&&c<s.length&&s!==this)for(;c<s.length;c++)this.words[c]=s.words[c];return this.length=Math.max(this.length,c),s!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(t){return this.clone().isub(t)};function Qt(f,t,e){e.negative=t.negative^f.negative;var r=f.length+t.length|0;e.length=r,r=r-1|0;var s=f.words[0]|0,h=t.words[0]|0,u=s*h,c=u&67108863,n=u/67108864|0;e.words[0]=c;for(var i=1;i<r;i++){for(var o=n>>>26,M=n&67108863,g=Math.min(i,t.length-1),y=Math.max(0,i-f.length+1);y<=g;y++){var ut=i-y|0;s=f.words[ut]|0,h=t.words[y]|0,u=s*h+M,o+=u/67108864|0,M=u&67108863}e.words[i]=M|0,n=o|0}return n!==0?e.words[i]=n|0:e.length--,e._strip()}var Jt=function(t,e,r){var s=t.words,h=e.words,u=r.words,c=0,n,i,o,M=s[0]|0,g=M&8191,y=M>>>13,ut=s[1]|0,B=ut&8191,S=ut>>>13,ti=s[2]|0,Y=ti&8191,j=ti>>>13,ii=s[3]|0,tt=ii&8191,it=ii>>>13,ei=s[4]|0,et=ei&8191,rt=ei>>>13,ri=s[5]|0,nt=ri&8191,st=ri>>>13,ni=s[6]|0,ot=ni&8191,ht=ni>>>13,si=s[7]|0,ft=si&8191,at=si>>>13,It=s[8]|0,A=It&8191,R=It>>>13,Ct=s[9]|0,T=Ct&8191,E=Ct>>>13,Ft=h[0]|0,N=Ft&8191,z=Ft>>>13,Zt=h[1]|0,q=Zt&8191,I=Zt>>>13,Pt=h[2]|0,C=Pt&8191,F=Pt>>>13,Ht=h[3]|0,Z=Ht&8191,P=Ht>>>13,Ot=h[4]|0,H=Ot&8191,O=Ot>>>13,Dt=h[5]|0,D=Dt&8191,U=Dt>>>13,Ut=h[6]|0,$=Ut&8191,K=Ut>>>13,$t=h[7]|0,W=$t&8191,G=$t>>>13,Kt=h[8]|0,Q=Kt&8191,J=Kt>>>13,Wt=h[9]|0,V=Wt&8191,X=Wt>>>13;r.negative=t.negative^e.negative,r.length=19,n=Math.imul(g,N),i=Math.imul(g,z),i=i+Math.imul(y,N)|0,o=Math.imul(y,z);var Mt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,N),i=Math.imul(B,z),i=i+Math.imul(S,N)|0,o=Math.imul(S,z),n=n+Math.imul(g,q)|0,i=i+Math.imul(g,I)|0,i=i+Math.imul(y,q)|0,o=o+Math.imul(y,I)|0;var yt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(Y,N),i=Math.imul(Y,z),i=i+Math.imul(j,N)|0,o=Math.imul(j,z),n=n+Math.imul(B,q)|0,i=i+Math.imul(B,I)|0,i=i+Math.imul(S,q)|0,o=o+Math.imul(S,I)|0,n=n+Math.imul(g,C)|0,i=i+Math.imul(g,F)|0,i=i+Math.imul(y,C)|0,o=o+Math.imul(y,F)|0;var wt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(tt,N),i=Math.imul(tt,z),i=i+Math.imul(it,N)|0,o=Math.imul(it,z),n=n+Math.imul(Y,q)|0,i=i+Math.imul(Y,I)|0,i=i+Math.imul(j,q)|0,o=o+Math.imul(j,I)|0,n=n+Math.imul(B,C)|0,i=i+Math.imul(B,F)|0,i=i+Math.imul(S,C)|0,o=o+Math.imul(S,F)|0,n=n+Math.imul(g,Z)|0,i=i+Math.imul(g,P)|0,i=i+Math.imul(y,Z)|0,o=o+Math.imul(y,P)|0;var _t=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(et,N),i=Math.imul(et,z),i=i+Math.imul(rt,N)|0,o=Math.imul(rt,z),n=n+Math.imul(tt,q)|0,i=i+Math.imul(tt,I)|0,i=i+Math.imul(it,q)|0,o=o+Math.imul(it,I)|0,n=n+Math.imul(Y,C)|0,i=i+Math.imul(Y,F)|0,i=i+Math.imul(j,C)|0,o=o+Math.imul(j,F)|0,n=n+Math.imul(B,Z)|0,i=i+Math.imul(B,P)|0,i=i+Math.imul(S,Z)|0,o=o+Math.imul(S,P)|0,n=n+Math.imul(g,H)|0,i=i+Math.imul(g,O)|0,i=i+Math.imul(y,H)|0,o=o+Math.imul(y,O)|0;var xt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(nt,N),i=Math.imul(nt,z),i=i+Math.imul(st,N)|0,o=Math.imul(st,z),n=n+Math.imul(et,q)|0,i=i+Math.imul(et,I)|0,i=i+Math.imul(rt,q)|0,o=o+Math.imul(rt,I)|0,n=n+Math.imul(tt,C)|0,i=i+Math.imul(tt,F)|0,i=i+Math.imul(it,C)|0,o=o+Math.imul(it,F)|0,n=n+Math.imul(Y,Z)|0,i=i+Math.imul(Y,P)|0,i=i+Math.imul(j,Z)|0,o=o+Math.imul(j,P)|0,n=n+Math.imul(B,H)|0,i=i+Math.imul(B,O)|0,i=i+Math.imul(S,H)|0,o=o+Math.imul(S,O)|0,n=n+Math.imul(g,D)|0,i=i+Math.imul(g,U)|0,i=i+Math.imul(y,D)|0,o=o+Math.imul(y,U)|0;var kt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(ot,N),i=Math.imul(ot,z),i=i+Math.imul(ht,N)|0,o=Math.imul(ht,z),n=n+Math.imul(nt,q)|0,i=i+Math.imul(nt,I)|0,i=i+Math.imul(st,q)|0,o=o+Math.imul(st,I)|0,n=n+Math.imul(et,C)|0,i=i+Math.imul(et,F)|0,i=i+Math.imul(rt,C)|0,o=o+Math.imul(rt,F)|0,n=n+Math.imul(tt,Z)|0,i=i+Math.imul(tt,P)|0,i=i+Math.imul(it,Z)|0,o=o+Math.imul(it,P)|0,n=n+Math.imul(Y,H)|0,i=i+Math.imul(Y,O)|0,i=i+Math.imul(j,H)|0,o=o+Math.imul(j,O)|0,n=n+Math.imul(B,D)|0,i=i+Math.imul(B,U)|0,i=i+Math.imul(S,D)|0,o=o+Math.imul(S,U)|0,n=n+Math.imul(g,$)|0,i=i+Math.imul(g,K)|0,i=i+Math.imul(y,$)|0,o=o+Math.imul(y,K)|0;var bt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(ft,N),i=Math.imul(ft,z),i=i+Math.imul(at,N)|0,o=Math.imul(at,z),n=n+Math.imul(ot,q)|0,i=i+Math.imul(ot,I)|0,i=i+Math.imul(ht,q)|0,o=o+Math.imul(ht,I)|0,n=n+Math.imul(nt,C)|0,i=i+Math.imul(nt,F)|0,i=i+Math.imul(st,C)|0,o=o+Math.imul(st,F)|0,n=n+Math.imul(et,Z)|0,i=i+Math.imul(et,P)|0,i=i+Math.imul(rt,Z)|0,o=o+Math.imul(rt,P)|0,n=n+Math.imul(tt,H)|0,i=i+Math.imul(tt,O)|0,i=i+Math.imul(it,H)|0,o=o+Math.imul(it,O)|0,n=n+Math.imul(Y,D)|0,i=i+Math.imul(Y,U)|0,i=i+Math.imul(j,D)|0,o=o+Math.imul(j,U)|0,n=n+Math.imul(B,$)|0,i=i+Math.imul(B,K)|0,i=i+Math.imul(S,$)|0,o=o+Math.imul(S,K)|0,n=n+Math.imul(g,W)|0,i=i+Math.imul(g,G)|0,i=i+Math.imul(y,W)|0,o=o+Math.imul(y,G)|0;var Bt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(A,N),i=Math.imul(A,z),i=i+Math.imul(R,N)|0,o=Math.imul(R,z),n=n+Math.imul(ft,q)|0,i=i+Math.imul(ft,I)|0,i=i+Math.imul(at,q)|0,o=o+Math.imul(at,I)|0,n=n+Math.imul(ot,C)|0,i=i+Math.imul(ot,F)|0,i=i+Math.imul(ht,C)|0,o=o+Math.imul(ht,F)|0,n=n+Math.imul(nt,Z)|0,i=i+Math.imul(nt,P)|0,i=i+Math.imul(st,Z)|0,o=o+Math.imul(st,P)|0,n=n+Math.imul(et,H)|0,i=i+Math.imul(et,O)|0,i=i+Math.imul(rt,H)|0,o=o+Math.imul(rt,O)|0,n=n+Math.imul(tt,D)|0,i=i+Math.imul(tt,U)|0,i=i+Math.imul(it,D)|0,o=o+Math.imul(it,U)|0,n=n+Math.imul(Y,$)|0,i=i+Math.imul(Y,K)|0,i=i+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(B,W)|0,i=i+Math.imul(B,G)|0,i=i+Math.imul(S,W)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(g,Q)|0,i=i+Math.imul(g,J)|0,i=i+Math.imul(y,Q)|0,o=o+Math.imul(y,J)|0;var St=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(T,N),i=Math.imul(T,z),i=i+Math.imul(E,N)|0,o=Math.imul(E,z),n=n+Math.imul(A,q)|0,i=i+Math.imul(A,I)|0,i=i+Math.imul(R,q)|0,o=o+Math.imul(R,I)|0,n=n+Math.imul(ft,C)|0,i=i+Math.imul(ft,F)|0,i=i+Math.imul(at,C)|0,o=o+Math.imul(at,F)|0,n=n+Math.imul(ot,Z)|0,i=i+Math.imul(ot,P)|0,i=i+Math.imul(ht,Z)|0,o=o+Math.imul(ht,P)|0,n=n+Math.imul(nt,H)|0,i=i+Math.imul(nt,O)|0,i=i+Math.imul(st,H)|0,o=o+Math.imul(st,O)|0,n=n+Math.imul(et,D)|0,i=i+Math.imul(et,U)|0,i=i+Math.imul(rt,D)|0,o=o+Math.imul(rt,U)|0,n=n+Math.imul(tt,$)|0,i=i+Math.imul(tt,K)|0,i=i+Math.imul(it,$)|0,o=o+Math.imul(it,K)|0,n=n+Math.imul(Y,W)|0,i=i+Math.imul(Y,G)|0,i=i+Math.imul(j,W)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(B,Q)|0,i=i+Math.imul(B,J)|0,i=i+Math.imul(S,Q)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(g,V)|0,i=i+Math.imul(g,X)|0,i=i+Math.imul(y,V)|0,o=o+Math.imul(y,X)|0;var Lt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(T,q),i=Math.imul(T,I),i=i+Math.imul(E,q)|0,o=Math.imul(E,I),n=n+Math.imul(A,C)|0,i=i+Math.imul(A,F)|0,i=i+Math.imul(R,C)|0,o=o+Math.imul(R,F)|0,n=n+Math.imul(ft,Z)|0,i=i+Math.imul(ft,P)|0,i=i+Math.imul(at,Z)|0,o=o+Math.imul(at,P)|0,n=n+Math.imul(ot,H)|0,i=i+Math.imul(ot,O)|0,i=i+Math.imul(ht,H)|0,o=o+Math.imul(ht,O)|0,n=n+Math.imul(nt,D)|0,i=i+Math.imul(nt,U)|0,i=i+Math.imul(st,D)|0,o=o+Math.imul(st,U)|0,n=n+Math.imul(et,$)|0,i=i+Math.imul(et,K)|0,i=i+Math.imul(rt,$)|0,o=o+Math.imul(rt,K)|0,n=n+Math.imul(tt,W)|0,i=i+Math.imul(tt,G)|0,i=i+Math.imul(it,W)|0,o=o+Math.imul(it,G)|0,n=n+Math.imul(Y,Q)|0,i=i+Math.imul(Y,J)|0,i=i+Math.imul(j,Q)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(B,V)|0,i=i+Math.imul(B,X)|0,i=i+Math.imul(S,V)|0,o=o+Math.imul(S,X)|0;var At=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(T,C),i=Math.imul(T,F),i=i+Math.imul(E,C)|0,o=Math.imul(E,F),n=n+Math.imul(A,Z)|0,i=i+Math.imul(A,P)|0,i=i+Math.imul(R,Z)|0,o=o+Math.imul(R,P)|0,n=n+Math.imul(ft,H)|0,i=i+Math.imul(ft,O)|0,i=i+Math.imul(at,H)|0,o=o+Math.imul(at,O)|0,n=n+Math.imul(ot,D)|0,i=i+Math.imul(ot,U)|0,i=i+Math.imul(ht,D)|0,o=o+Math.imul(ht,U)|0,n=n+Math.imul(nt,$)|0,i=i+Math.imul(nt,K)|0,i=i+Math.imul(st,$)|0,o=o+Math.imul(st,K)|0,n=n+Math.imul(et,W)|0,i=i+Math.imul(et,G)|0,i=i+Math.imul(rt,W)|0,o=o+Math.imul(rt,G)|0,n=n+Math.imul(tt,Q)|0,i=i+Math.imul(tt,J)|0,i=i+Math.imul(it,Q)|0,o=o+Math.imul(it,J)|0,n=n+Math.imul(Y,V)|0,i=i+Math.imul(Y,X)|0,i=i+Math.imul(j,V)|0,o=o+Math.imul(j,X)|0;var Rt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(T,Z),i=Math.imul(T,P),i=i+Math.imul(E,Z)|0,o=Math.imul(E,P),n=n+Math.imul(A,H)|0,i=i+Math.imul(A,O)|0,i=i+Math.imul(R,H)|0,o=o+Math.imul(R,O)|0,n=n+Math.imul(ft,D)|0,i=i+Math.imul(ft,U)|0,i=i+Math.imul(at,D)|0,o=o+Math.imul(at,U)|0,n=n+Math.imul(ot,$)|0,i=i+Math.imul(ot,K)|0,i=i+Math.imul(ht,$)|0,o=o+Math.imul(ht,K)|0,n=n+Math.imul(nt,W)|0,i=i+Math.imul(nt,G)|0,i=i+Math.imul(st,W)|0,o=o+Math.imul(st,G)|0,n=n+Math.imul(et,Q)|0,i=i+Math.imul(et,J)|0,i=i+Math.imul(rt,Q)|0,o=o+Math.imul(rt,J)|0,n=n+Math.imul(tt,V)|0,i=i+Math.imul(tt,X)|0,i=i+Math.imul(it,V)|0,o=o+Math.imul(it,X)|0;var Tt=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(T,H),i=Math.imul(T,O),i=i+Math.imul(E,H)|0,o=Math.imul(E,O),n=n+Math.imul(A,D)|0,i=i+Math.imul(A,U)|0,i=i+Math.imul(R,D)|0,o=o+Math.imul(R,U)|0,n=n+Math.imul(ft,$)|0,i=i+Math.imul(ft,K)|0,i=i+Math.imul(at,$)|0,o=o+Math.imul(at,K)|0,n=n+Math.imul(ot,W)|0,i=i+Math.imul(ot,G)|0,i=i+Math.imul(ht,W)|0,o=o+Math.imul(ht,G)|0,n=n+Math.imul(nt,Q)|0,i=i+Math.imul(nt,J)|0,i=i+Math.imul(st,Q)|0,o=o+Math.imul(st,J)|0,n=n+Math.imul(et,V)|0,i=i+Math.imul(et,X)|0,i=i+Math.imul(rt,V)|0,o=o+Math.imul(rt,X)|0;var Et=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(T,D),i=Math.imul(T,U),i=i+Math.imul(E,D)|0,o=Math.imul(E,U),n=n+Math.imul(A,$)|0,i=i+Math.imul(A,K)|0,i=i+Math.imul(R,$)|0,o=o+Math.imul(R,K)|0,n=n+Math.imul(ft,W)|0,i=i+Math.imul(ft,G)|0,i=i+Math.imul(at,W)|0,o=o+Math.imul(at,G)|0,n=n+Math.imul(ot,Q)|0,i=i+Math.imul(ot,J)|0,i=i+Math.imul(ht,Q)|0,o=o+Math.imul(ht,J)|0,n=n+Math.imul(nt,V)|0,i=i+Math.imul(nt,X)|0,i=i+Math.imul(st,V)|0,o=o+Math.imul(st,X)|0;var ui=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(ui>>>26)|0,ui&=67108863,n=Math.imul(T,$),i=Math.imul(T,K),i=i+Math.imul(E,$)|0,o=Math.imul(E,K),n=n+Math.imul(A,W)|0,i=i+Math.imul(A,G)|0,i=i+Math.imul(R,W)|0,o=o+Math.imul(R,G)|0,n=n+Math.imul(ft,Q)|0,i=i+Math.imul(ft,J)|0,i=i+Math.imul(at,Q)|0,o=o+Math.imul(at,J)|0,n=n+Math.imul(ot,V)|0,i=i+Math.imul(ot,X)|0,i=i+Math.imul(ht,V)|0,o=o+Math.imul(ht,X)|0;var ci=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(ci>>>26)|0,ci&=67108863,n=Math.imul(T,W),i=Math.imul(T,G),i=i+Math.imul(E,W)|0,o=Math.imul(E,G),n=n+Math.imul(A,Q)|0,i=i+Math.imul(A,J)|0,i=i+Math.imul(R,Q)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(ft,V)|0,i=i+Math.imul(ft,X)|0,i=i+Math.imul(at,V)|0,o=o+Math.imul(at,X)|0;var di=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(di>>>26)|0,di&=67108863,n=Math.imul(T,Q),i=Math.imul(T,J),i=i+Math.imul(E,Q)|0,o=Math.imul(E,J),n=n+Math.imul(A,V)|0,i=i+Math.imul(A,X)|0,i=i+Math.imul(R,V)|0,o=o+Math.imul(R,X)|0;var pi=(c+n|0)+((i&8191)<<13)|0;c=(o+(i>>>13)|0)+(pi>>>26)|0,pi&=67108863,n=Math.imul(T,V),i=Math.imul(T,X),i=i+Math.imul(E,V)|0,o=Math.imul(E,X);var mi=(c+n|0)+((i&8191)<<13)|0;return c=(o+(i>>>13)|0)+(mi>>>26)|0,mi&=67108863,u[0]=Mt,u[1]=yt,u[2]=wt,u[3]=_t,u[4]=xt,u[5]=kt,u[6]=bt,u[7]=Bt,u[8]=St,u[9]=Lt,u[10]=At,u[11]=Rt,u[12]=Tt,u[13]=Et,u[14]=ui,u[15]=ci,u[16]=di,u[17]=pi,u[18]=mi,c!==0&&(u[19]=c,r.length++),r};Math.imul||(Jt=Qt);function Vt(f,t,e){e.negative=t.negative^f.negative,e.length=f.length+t.length;for(var r=0,s=0,h=0;h<e.length-1;h++){var u=s;s=0;for(var c=r&67108863,n=Math.min(h,t.length-1),i=Math.max(0,h-f.length+1);i<=n;i++){var o=h-i,M=f.words[o]|0,g=t.words[i]|0,y=M*g,ut=y&67108863;u=u+(y/67108864|0)|0,ut=ut+c|0,c=ut&67108863,u=u+(ut>>>26)|0,s+=u>>>26,u&=67108863}e.words[h]=c,r=u,u=s}return r!==0?e.words[h]=r:e.length--,e._strip()}function Xt(f,t,e){return Vt(f,t,e)}l.prototype.mulTo=function(t,e){var r,s=this.length+t.length;return this.length===10&&t.length===10?r=Jt(this,t,e):s<63?r=Qt(this,t,e):s<1024?r=Vt(this,t,e):r=Xt(this,t,e),r},l.prototype.mul=function(t){var e=new l(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},l.prototype.mulf=function(t){var e=new l(null);return e.words=new Array(this.length+t.length),Xt(this,t,e)},l.prototype.imul=function(t){return this.clone().mulTo(t,this)},l.prototype.imuln=function(t){var e=t<0;e&&(t=-t),d(typeof t=="number"),d(t<67108864);for(var r=0,s=0;s<this.length;s++){var h=(this.words[s]|0)*t,u=(h&67108863)+(r&67108863);r>>=26,r+=h/67108864|0,r+=u>>>26,this.words[s]=u&67108863}return r!==0&&(this.words[s]=r,this.length++),e?this.ineg():this},l.prototype.muln=function(t){return this.clone().imuln(t)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(t){var e=hi(t);if(e.length===0)return new l(1);for(var r=this,s=0;s<e.length&&e[s]===0;s++,r=r.sqr());if(++s<e.length)for(var h=r.sqr();s<e.length;s++,h=h.sqr())e[s]!==0&&(r=r.mul(h));return r},l.prototype.iushln=function(t){d(typeof t=="number"&&t>=0);var e=t%26,r=(t-e)/26,s=67108863>>>26-e<<26-e,h;if(e!==0){var u=0;for(h=0;h<this.length;h++){var c=this.words[h]&s,n=(this.words[h]|0)-c<<e;this.words[h]=n|u,u=c>>>26-e}u&&(this.words[h]=u,this.length++)}if(r!==0){for(h=this.length-1;h>=0;h--)this.words[h+r]=this.words[h];for(h=0;h<r;h++)this.words[h]=0;this.length+=r}return this._strip()},l.prototype.ishln=function(t){return d(this.negative===0),this.iushln(t)},l.prototype.iushrn=function(t,e,r){d(typeof t=="number"&&t>=0);var s;e?s=(e-e%26)/26:s=0;var h=t%26,u=Math.min((t-h)/26,this.length),c=67108863^67108863>>>h<<h,n=r;if(s-=u,s=Math.max(0,s),n){for(var i=0;i<u;i++)n.words[i]=this.words[i];n.length=u}if(u!==0)if(this.length>u)for(this.length-=u,i=0;i<this.length;i++)this.words[i]=this.words[i+u];else this.words[0]=0,this.length=1;var o=0;for(i=this.length-1;i>=0&&(o!==0||i>=s);i--){var M=this.words[i]|0;this.words[i]=o<<26-h|M>>>h,o=M&c}return n&&o!==0&&(n.words[n.length++]=o),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(t,e,r){return d(this.negative===0),this.iushrn(t,e,r)},l.prototype.shln=function(t){return this.clone().ishln(t)},l.prototype.ushln=function(t){return this.clone().iushln(t)},l.prototype.shrn=function(t){return this.clone().ishrn(t)},l.prototype.ushrn=function(t){return this.clone().iushrn(t)},l.prototype.testn=function(t){d(typeof t=="number"&&t>=0);var e=t%26,r=(t-e)/26,s=1<<e;if(this.length<=r)return!1;var h=this.words[r];return!!(h&s)},l.prototype.imaskn=function(t){d(typeof t=="number"&&t>=0);var e=t%26,r=(t-e)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=r)return this;if(e!==0&&r++,this.length=Math.min(r,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this._strip()},l.prototype.maskn=function(t){return this.clone().imaskn(t)},l.prototype.iaddn=function(t){return d(typeof t=="number"),d(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},l.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},l.prototype.isubn=function(t){if(d(typeof t=="number"),d(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},l.prototype.addn=function(t){return this.clone().iaddn(t)},l.prototype.subn=function(t){return this.clone().isubn(t)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(t,e,r){var s=t.length+r,h;this._expand(s);var u,c=0;for(h=0;h<t.length;h++){u=(this.words[h+r]|0)+c;var n=(t.words[h]|0)*e;u-=n&67108863,c=(u>>26)-(n/67108864|0),this.words[h+r]=u&67108863}for(;h<this.length-r;h++)u=(this.words[h+r]|0)+c,c=u>>26,this.words[h+r]=u&67108863;if(c===0)return this._strip();for(d(c===-1),c=0,h=0;h<this.length;h++)u=-(this.words[h]|0)+c,c=u>>26,this.words[h]=u&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(t,e){var r=this.length-t.length,s=this.clone(),h=t,u=h.words[h.length-1]|0,c=this._countBits(u);r=26-c,r!==0&&(h=h.ushln(r),s.iushln(r),u=h.words[h.length-1]|0);var n=s.length-h.length,i;if(e!=="mod"){i=new l(null),i.length=n+1,i.words=new Array(i.length);for(var o=0;o<i.length;o++)i.words[o]=0}var M=s.clone()._ishlnsubmul(h,1,n);M.negative===0&&(s=M,i&&(i.words[n]=1));for(var g=n-1;g>=0;g--){var y=(s.words[h.length+g]|0)*67108864+(s.words[h.length+g-1]|0);for(y=Math.min(y/u|0,67108863),s._ishlnsubmul(h,y,g);s.negative!==0;)y--,s.negative=0,s._ishlnsubmul(h,1,g),s.isZero()||(s.negative^=1);i&&(i.words[g]=y)}return i&&i._strip(),s._strip(),e!=="div"&&r!==0&&s.iushrn(r),{div:i||null,mod:s}},l.prototype.divmod=function(t,e,r){if(d(!t.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var s,h,u;return this.negative!==0&&t.negative===0?(u=this.neg().divmod(t,e),e!=="mod"&&(s=u.div.neg()),e!=="div"&&(h=u.mod.neg(),r&&h.negative!==0&&h.iadd(t)),{div:s,mod:h}):this.negative===0&&t.negative!==0?(u=this.divmod(t.neg(),e),e!=="mod"&&(s=u.div.neg()),{div:s,mod:u.mod}):(this.negative&t.negative)!==0?(u=this.neg().divmod(t.neg(),e),e!=="div"&&(h=u.mod.neg(),r&&h.negative!==0&&h.isub(t)),{div:u.div,mod:h}):t.length>this.length||this.cmp(t)<0?{div:new l(0),mod:this}:t.length===1?e==="div"?{div:this.divn(t.words[0]),mod:null}:e==="mod"?{div:null,mod:new l(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new l(this.modrn(t.words[0]))}:this._wordDiv(t,e)},l.prototype.div=function(t){return this.divmod(t,"div",!1).div},l.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},l.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},l.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=e.div.negative!==0?e.mod.isub(t):e.mod,s=t.ushrn(1),h=t.andln(1),u=r.cmp(s);return u<0||h===1&&u===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},l.prototype.modrn=function(t){var e=t<0;e&&(t=-t),d(t<=67108863);for(var r=(1<<26)%t,s=0,h=this.length-1;h>=0;h--)s=(r*s+(this.words[h]|0))%t;return e?-s:s},l.prototype.modn=function(t){return this.modrn(t)},l.prototype.idivn=function(t){var e=t<0;e&&(t=-t),d(t<=67108863);for(var r=0,s=this.length-1;s>=0;s--){var h=(this.words[s]|0)+r*67108864;this.words[s]=h/t|0,r=h%t}return this._strip(),e?this.ineg():this},l.prototype.divn=function(t){return this.clone().idivn(t)},l.prototype.egcd=function(t){d(t.negative===0),d(!t.isZero());var e=this,r=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var s=new l(1),h=new l(0),u=new l(0),c=new l(1),n=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++n;for(var i=r.clone(),o=e.clone();!e.isZero();){for(var M=0,g=1;(e.words[0]&g)===0&&M<26;++M,g<<=1);if(M>0)for(e.iushrn(M);M-- >0;)(s.isOdd()||h.isOdd())&&(s.iadd(i),h.isub(o)),s.iushrn(1),h.iushrn(1);for(var y=0,ut=1;(r.words[0]&ut)===0&&y<26;++y,ut<<=1);if(y>0)for(r.iushrn(y);y-- >0;)(u.isOdd()||c.isOdd())&&(u.iadd(i),c.isub(o)),u.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(u),h.isub(c)):(r.isub(e),u.isub(s),c.isub(h))}return{a:u,b:c,gcd:r.iushln(n)}},l.prototype._invmp=function(t){d(t.negative===0),d(!t.isZero());var e=this,r=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var s=new l(1),h=new l(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,n=1;(e.words[0]&n)===0&&c<26;++c,n<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var i=0,o=1;(r.words[0]&o)===0&&i<26;++i,o<<=1);if(i>0)for(r.iushrn(i);i-- >0;)h.isOdd()&&h.iadd(u),h.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(h)):(r.isub(e),h.isub(s))}var M;return e.cmpn(1)===0?M=s:M=h,M.cmpn(0)<0&&M.iadd(t),M},l.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var s=0;e.isEven()&&r.isEven();s++)e.iushrn(1),r.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=e.cmp(r);if(h<0){var u=e;e=r,r=u}else if(h===0||r.cmpn(1)===0)break;e.isub(r)}while(!0);return r.iushln(s)},l.prototype.invm=function(t){return this.egcd(t).a.umod(t)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(t){return this.words[0]&t},l.prototype.bincn=function(t){d(typeof t=="number");var e=t%26,r=(t-e)/26,s=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var h=s,u=r;h!==0&&u<this.length;u++){var c=this.words[u]|0;c+=h,h=c>>>26,c&=67108863,this.words[u]=c}return h!==0&&(this.words[u]=h,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(t){var e=t<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this._strip();var r;if(this.length>1)r=1;else{e&&(t=-t),d(t<=67108863,"Number is too big");var s=this.words[0]|0;r=s===t?0:s<t?-1:1}return this.negative!==0?-r|0:r},l.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var e=this.ucmp(t);return this.negative!==0?-e|0:e},l.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var s=this.words[r]|0,h=t.words[r]|0;if(s!==h){s<h?e=-1:s>h&&(e=1);break}}return e},l.prototype.gtn=function(t){return this.cmpn(t)===1},l.prototype.gt=function(t){return this.cmp(t)===1},l.prototype.gten=function(t){return this.cmpn(t)>=0},l.prototype.gte=function(t){return this.cmp(t)>=0},l.prototype.ltn=function(t){return this.cmpn(t)===-1},l.prototype.lt=function(t){return this.cmp(t)===-1},l.prototype.lten=function(t){return this.cmpn(t)<=0},l.prototype.lte=function(t){return this.cmp(t)<=0},l.prototype.eqn=function(t){return this.cmpn(t)===0},l.prototype.eq=function(t){return this.cmp(t)===0},l.red=function(t){return new L(t)},l.prototype.toRed=function(t){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},l.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(t){return this.red=t,this},l.prototype.forceRed=function(t){return d(!this.red,"Already a number in reduction context"),this._forceRed(t)},l.prototype.redAdd=function(t){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},l.prototype.redIAdd=function(t){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},l.prototype.redSub=function(t){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},l.prototype.redISub=function(t){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},l.prototype.redShl=function(t){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},l.prototype.redMul=function(t){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},l.prototype.redIMul=function(t){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},l.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(t){return d(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var zt={k256:null,p224:null,p192:null,p25519:null};function dt(f,t){this.name=f,this.p=new l(t,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}dt.prototype._tmp=function(){var t=new l(null);return t.words=new Array(Math.ceil(this.n/13)),t},dt.prototype.ireduce=function(t){var e=t,r;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),r=e.bitLength();while(r>this.n);var s=r<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},dt.prototype.split=function(t,e){t.iushrn(this.n,0,e)},dt.prototype.imulK=function(t){return t.imul(this.k)};function gt(){dt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}v(gt,dt),gt.prototype.split=function(t,e){for(var r=4194303,s=Math.min(t.length,9),h=0;h<s;h++)e.words[h]=t.words[h];if(e.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var u=t.words[9];for(e.words[e.length++]=u&r,h=10;h<t.length;h++){var c=t.words[h]|0;t.words[h-10]=(c&r)<<4|u>>>22,u=c}u>>>=22,t.words[h-10]=u,u===0&&t.length>10?t.length-=10:t.length-=9},gt.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var s=t.words[r]|0;e+=s*977,t.words[r]=e&67108863,e=s*64+(e/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Yt(){dt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}v(Yt,dt);function jt(){dt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}v(jt,dt);function qt(){dt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}v(qt,dt),qt.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var s=(t.words[r]|0)*19+e,h=s&67108863;s>>>=26,t.words[r]=h,e=s}return e!==0&&(t.words[t.length++]=e),t},l._prime=function(t){if(zt[t])return zt[t];var e;if(t==="k256")e=new gt;else if(t==="p224")e=new Yt;else if(t==="p192")e=new jt;else if(t==="p25519")e=new qt;else throw new Error("Unknown prime "+t);return zt[t]=e,e};function L(f){if(typeof f=="string"){var t=l._prime(f);this.m=t.p,this.prime=t}else d(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}L.prototype._verify1=function(t){d(t.negative===0,"red works only with positives"),d(t.red,"red works only with red numbers")},L.prototype._verify2=function(t,e){d((t.negative|e.negative)===0,"red works only with positives"),d(t.red&&t.red===e.red,"red works only with red numbers")},L.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(Nt(t,t.umod(this.m)._forceRed(this)),t)},L.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},L.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},L.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},L.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},L.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},L.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},L.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},L.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},L.prototype.isqr=function(t){return this.imul(t,t.clone())},L.prototype.sqr=function(t){return this.mul(t,t)},L.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(d(e%2===1),e===3){var r=this.m.add(new l(1)).iushrn(2);return this.pow(t,r)}for(var s=this.m.subn(1),h=0;!s.isZero()&&s.andln(1)===0;)h++,s.iushrn(1);d(!s.isZero());var u=new l(1).toRed(this),c=u.redNeg(),n=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new l(2*i*i).toRed(this);this.pow(i,n).cmp(c)!==0;)i.redIAdd(c);for(var o=this.pow(i,s),M=this.pow(t,s.addn(1).iushrn(1)),g=this.pow(t,s),y=h;g.cmp(u)!==0;){for(var ut=g,B=0;ut.cmp(u)!==0;B++)ut=ut.redSqr();d(B<y);var S=this.pow(o,new l(1).iushln(y-B-1));M=M.redMul(S),o=S.redSqr(),g=g.redMul(o),y=B}return M},L.prototype.invm=function(t){var e=t._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},L.prototype.pow=function(t,e){if(e.isZero())return new l(1).toRed(this);if(e.cmpn(1)===0)return t.clone();var r=4,s=new Array(1<<r);s[0]=new l(1).toRed(this),s[1]=t;for(var h=2;h<s.length;h++)s[h]=this.mul(s[h-1],t);var u=s[0],c=0,n=0,i=e.bitLength()%26;for(i===0&&(i=26),h=e.length-1;h>=0;h--){for(var o=e.words[h],M=i-1;M>=0;M--){var g=o>>M&1;if(u!==s[0]&&(u=this.sqr(u)),g===0&&c===0){n=0;continue}c<<=1,c|=g,n++,!(n!==r&&(h!==0||M!==0))&&(u=this.mul(u,s[c]),n=0,c=0)}i=26}return u},L.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},L.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},l.mont=function(t){return new mt(t)};function mt(f){L.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v(mt,L),mt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},mt.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},mt.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),s=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(s).iushrn(this.shift),u=h;return h.cmp(this.m)>=0?u=h.isub(this.m):h.cmpn(0)<0&&(u=h.iadd(this.m)),u._forceRed(this)},mt.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new l(0)._forceRed(this);var r=t.mul(e),s=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(s).iushrn(this.shift),u=h;return h.cmp(this.m)>=0?u=h.isub(this.m):h.cmpn(0)<0&&(u=h.iadd(this.m)),u._forceRed(this)},mt.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(a,Ei)})(Di);const yi=(a,p)=>function(){const m=p.promiseModule,d=new Array(arguments.length);for(let v=0;v<arguments.length;v++)d[v]=arguments[v];return new m((v,l)=>{p.errorFirst?d.push(function(b,ct){if(p.multiArgs){const lt=new Array(arguments.length-1);for(let pt=1;pt<arguments.length;pt++)lt[pt-1]=arguments[pt];b?(lt.unshift(b),l(lt)):v(lt)}else b?l(b):v(ct)}):d.push(function(b){if(p.multiArgs){const ct=new Array(arguments.length-1);for(let lt=0;lt<arguments.length;lt++)ct[lt]=arguments[lt];v(ct)}else v(b)}),a.apply(this,d)})};var Ui=(a,p)=>{p=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},p);const m=v=>{const l=b=>typeof b=="string"?v===b:b.test(v);return p.include?p.include.some(l):!p.exclude.some(l)};let d;typeof a=="function"?d=function(){return p.excludeMain?a.apply(this,arguments):yi(a,p).apply(this,arguments)}:d=Object.create(Object.getPrototypeOf(a));for(const v in a){const l=a[v];d[v]=typeof l=="function"&&m(v)?yi(l,p):l}return d},$i=Ki;function Ki(a){a=a||{};var p=a.max||Number.MAX_SAFE_INTEGER,m=typeof a.start<"u"?a.start:Math.floor(Math.random()*p);return function(){return m=m%p,m++}}const Wi=Ri,Gi=$i();var ce=w;function w(a){const p=this;p.currentProvider=a}w.prototype.getBalance=oi(2,"eth_getBalance");w.prototype.getCode=oi(2,"eth_getCode");w.prototype.getTransactionCount=oi(2,"eth_getTransactionCount");w.prototype.getStorageAt=oi(3,"eth_getStorageAt");w.prototype.call=oi(2,"eth_call");w.prototype.protocolVersion=_("eth_protocolVersion");w.prototype.syncing=_("eth_syncing");w.prototype.coinbase=_("eth_coinbase");w.prototype.mining=_("eth_mining");w.prototype.hashrate=_("eth_hashrate");w.prototype.gasPrice=_("eth_gasPrice");w.prototype.accounts=_("eth_accounts");w.prototype.blockNumber=_("eth_blockNumber");w.prototype.getBlockTransactionCountByHash=_("eth_getBlockTransactionCountByHash");w.prototype.getBlockTransactionCountByNumber=_("eth_getBlockTransactionCountByNumber");w.prototype.getUncleCountByBlockHash=_("eth_getUncleCountByBlockHash");w.prototype.getUncleCountByBlockNumber=_("eth_getUncleCountByBlockNumber");w.prototype.sign=_("eth_sign");w.prototype.sendTransaction=_("eth_sendTransaction");w.prototype.sendRawTransaction=_("eth_sendRawTransaction");w.prototype.estimateGas=_("eth_estimateGas");w.prototype.getBlockByHash=_("eth_getBlockByHash");w.prototype.getBlockByNumber=_("eth_getBlockByNumber");w.prototype.getTransactionByHash=_("eth_getTransactionByHash");w.prototype.getTransactionByBlockHashAndIndex=_("eth_getTransactionByBlockHashAndIndex");w.prototype.getTransactionByBlockNumberAndIndex=_("eth_getTransactionByBlockNumberAndIndex");w.prototype.getTransactionReceipt=_("eth_getTransactionReceipt");w.prototype.getUncleByBlockHashAndIndex=_("eth_getUncleByBlockHashAndIndex");w.prototype.getUncleByBlockNumberAndIndex=_("eth_getUncleByBlockNumberAndIndex");w.prototype.getCompilers=_("eth_getCompilers");w.prototype.compileLLL=_("eth_compileLLL");w.prototype.compileSolidity=_("eth_compileSolidity");w.prototype.compileSerpent=_("eth_compileSerpent");w.prototype.newFilter=_("eth_newFilter");w.prototype.newBlockFilter=_("eth_newBlockFilter");w.prototype.newPendingTransactionFilter=_("eth_newPendingTransactionFilter");w.prototype.uninstallFilter=_("eth_uninstallFilter");w.prototype.getFilterChanges=_("eth_getFilterChanges");w.prototype.getFilterLogs=_("eth_getFilterLogs");w.prototype.getLogs=_("eth_getLogs");w.prototype.getWork=_("eth_getWork");w.prototype.submitWork=_("eth_submitWork");w.prototype.submitHashrate=_("eth_submitHashrate");w.prototype.sendAsync=function(a,p){this.currentProvider.sendAsync(Qi(a),function(d,v){if(!d&&v.error&&(d=new Error("EthQuery - RPC Error - "+v.error.message)),d)return p(d);p(null,v.result)})};function _(a){return function(){const p=this;var m=[].slice.call(arguments),d=m.pop();p.sendAsync({method:a,params:m},d)}}function oi(a,p){return function(){const m=this;var d=[].slice.call(arguments),v=d.pop();d.length<a&&d.push("latest"),m.sendAsync({method:p,params:d},v)}}function Qi(a){return Wi({id:Gi(),jsonrpc:"2.0",params:[]},a)}const Ji=Ti,Ai=Ni.exports;var vi=typeof Reflect=="object"?Reflect:null,Vi=vi&&typeof vi.apply=="function"?vi.apply:function(p,m,d){return Function.prototype.apply.call(p,m,d)},Xi=gi;function gi(){Ai.call(this)}Ji.inherits(gi,Ai);gi.prototype.emit=function(a){for(var p=[],m=1;m<arguments.length;m++)p.push(arguments[m]);var d=a==="error",v=this._events;if(v!==void 0)d=d&&v.error===void 0;else if(!d)return!1;if(d){var l;if(p.length>0&&(l=p[0]),l instanceof Error)throw l;var b=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw b.context=l,b}var ct=v[a];if(ct===void 0)return!1;if(typeof ct=="function")wi(ct,this,p);else for(var lt=ct.length,pt=Yi(ct,lt),m=0;m<lt;++m)wi(pt[m],this,p);return!0};function wi(a,p,m){try{Vi(a,p,m)}catch(d){setTimeout(()=>{throw d})}}function Yi(a,p){for(var m=new Array(p),d=0;d<p;++d)m[d]=a[d];return m}const ji=Xi,te=1e3,ie=(a,p)=>a+p,_i=["sync","latest"];class ee extends ji{constructor(p={}){super(),this._blockResetDuration=p.blockResetDuration||20*te,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(m=>this.once("latest",m))}removeAllListeners(p){p?super.removeAllListeners(p):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(p,m){!_i.includes(p)||this._maybeStart()}_onRemoveListener(p,m){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return _i.map(p=>this.listenerCount(p)).reduce(ie)}_newPotentialLatest(p){const m=this._currentBlock;m&&xi(p)<=xi(m)||this._setCurrentBlock(p)}_setCurrentBlock(p){const m=this._currentBlock;this._currentBlock=p,this.emit("latest",p),this.emit("sync",{oldBlock:m,newBlock:p})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var re=ee;function xi(a){return Number.parseInt(a,16)}const ne=Ui,se=re,oe=1e3;class he extends se{constructor(p={}){if(!p.provider)throw new Error("PollingBlockTracker - no provider specified.");const m=p.pollingInterval||20*oe,d=p.retryTimeout||m/10,v=p.keepEventLoopActive!==void 0?p.keepEventLoopActive:!0,l=p.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:m},p)),this._provider=p.provider,this._pollingInterval=m,this._retryTimeout=d,this._keepEventLoopActive=v,this._setSkipCacheFlag=l}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(p=>this.emit("error",p))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await ki(this._pollingInterval,!this._keepEventLoopActive)}catch(p){const m=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${p.stack}`);try{this.emit("error",m)}catch{console.error(m)}await ki(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const p=await this._fetchLatestBlock();this._newPotentialLatest(p)}async _fetchLatestBlock(){const p={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(p.skipCache=!0);const m=await ne(d=>this._provider.sendAsync(p,d))();if(m.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${m.error}`);return m.result}}var de=he;function ki(a,p){return new Promise(m=>{const d=setTimeout(m,a);d.unref&&p&&d.unref()})}export{Di as b,ce as e,ue as j,de as p};
